name: statements
categories:
- statements
tests:
- name: assignment
  categories:
  - assignment
  tests:
  - statements:
    - ['a = 1', null]
    - ['a', 1]
  - statements:
    - ['a = 2', null]
    - ['a += 1', null]
    - ['a', 3]
  - statements:
    - ['a = 3', null]
    - ['a -= 1', null]
    - ['a', 2]
  - statements:
    - ['a = 4', null]
    - ['a *= 2', null]
    - ['a', 8]
  - statements:
    - ['a = 5', null]
    - ['a %/= 2', null]
    - ['a', 2.5]
  - statements:
    - ['a = 6', null]
    - ['a /= 2', null]
    - ['a', 3]
  - statements:
    - ['a = 7', null]
    - ['a /= 2', null]
    - ['a', 3]
  - statements:
    - ['a = 7', null]
    - ['a %= 2', null]
    - ['a', 1]

- name: bags
  categories:
  - bags
  tests:
  - statements:
    - ['a = {.}', null]
    - ['a', {}]
  - statements:
    - ['b = {.}', null]
    - ['b.{1} = 2', null]
    - ['b', { 1: 2 }]
    - ['b.{1}', 2]
  - statements:
    - ['c = {.}', null]
    - ["c.{'x'} = 3", null]
    - ['c', {'x': 3}]
    - ['c.x', 3]
  - statements:
    - ['d = {.}', null]
    - ['d.x = 4', null]
    - ['d', {'x': 4}]
    - ["d.{'x'}", 4]
  - statements:
    - ['e = {.}', null]
    - ["e.{'x'} = 1", null]
    - ['e.x += 4', null]
    - ['e', {'x': 5}]
    - ['e.x', 5]
    - ["e.{'x'}", 5]
  - statements:
    - ['f = {.}', null]
    - ['f.x = {.}', null]
    - ['f', {'x': {}}]
    - ['f.x.a = 2', null]
    - ['f', {'x': {'a': 2}}]
    - ["f.x.{'a'} *= 2", null]
    - ['f', {'x': {'a': 4}}]
    - ['f.x', {'a': 4}]
    - ["f.{'x'}", {'a': 4}]
    - ['f.x.a', 4]
  - statements:
    - ['g = {.}', null]
    - ["y = 'x'", null]
    - ['g.x = 4', null]
    - ['g.y = 3', null]
    - ["g.{'x'} += 1", null]
    - ["g.{y} += 1", null]
    - ['g', {'x': 6, 'y': 3}]
    - ["g.{'x'}", 6]
    - ["g.{y}", 6]
    - ["g.y", 3]
