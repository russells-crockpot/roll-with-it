name: statements
categories:
- statements
tests:
- name: assignment
  categories:
  - assignment
  tests:
  - statements:
    - ['a = 1', null]
    - ['a', 1]
  - statements:
    - ['b = 2', null]
    - ['b += 1', null]
    - ['b', 3]
  - statements:
    - ['c = 3', null]
    - ['c -= 1', null]
    - ['c', 2]
  - statements:
    - ['d = 4', null]
    - ['d *= 2', null]
    - ['d', 8]
  - statements:
    - ['e = 5', null]
    - ['e %/= 2', null]
    - ['e', 2.5]
  - statements:
    - ['f = 6', null]
    - ['f /= 2', null]
    - ['f', 3]
  - statements:
    - ['g = 7', null]
    - ['g /= 2', null]
    - ['g', 3]
  - statements:
    - ['h = 7', null]
    - ['h %= 2', null]
    - ['h', 1]
  - statements:
    - ['i = 3d6', null]
    - ['i => top', null]
    - ['i', [3]]
  - statements:
    - ['i = 3d6', null]
    - ['i => top(2) -> bottom', null]
    - ['i', [2]]

- name: operator_overloading
  categories:
  - operator_overloading
  tests:
  - statements:
    - ['a = {:}', null]
    - ['a.<[+] = 1', null]
    - ['a + 0', 1]
    - ['a + 10', 1]
    - ['a.[+]> = 2', null]
    - ['0 + a', 2]
    - ['10 + a', 2]
  - statements:
    - ['b = {:}', null]
    - ['b.<[+] <- o: 5', null]
    - ['b + 0', 5]
    - ['b + 10', 5]
    - ['b.[+]> <- o: 3', null]
    - ['0 + b', 3]
    - ['10 + b', 3]

- name: load
  categories:
  - load
  tests:
  - statements:
    - ['load runtime', null]
    - ['!->runtime.loops', []]
    - ["runtime has 'overloads'", true]
  - statements:
    - ['load strings into test', null]
    - ["'b'->test.upper", 'B']
    - ["test has 'lower'", true]
    - ["~ has 'strings'", false]
  - statements:
    - ['load loops from runtime', null]
    - ["~ has 'loops'", true]
    - ["~ has 'runtime'", false]
    - ['!->loops', []]
  - statements:
    - ['load upper from strings into c', null]
    - ["~ has 'strings'", false]
    - ["~ has 'upper'", false]
    - ["c has 'upper'", true]
    - ["c has 'lower'", false]
    - ["'test'->c.upper", 'TEST']
  - statements:
    - ['a = {: z = 1 | y = 2 | x = 3 :}', null]
    - ['load a into m', null]
    - ['m', {'z': 1, 'y': 2, 'x': 3}]
  - statements:
    - ['b = {: z = 1 | y = 2 | x = 3 :}', null]
    - ['m = {: :}', null]
    - ['load b into m', null]
    - ['m', {'z': 1, 'y': 2, 'x': 3}]
  - statements:
    - ['c = {: z = 1 | y = 2 | x = 3 :}', null]
    - ['m = {: g=7 | z = 23:}', null]
    - ['load c into m', null]
    - ['m', {'z': 1, 'y': 2, 'x': 3, 'g': 7}]
  - statements:
    - ['d = {: z = 1 | y = 2 | x = 3 :}', null]
    - ['m = {: g = 7 | z = 23:}', null]
    - ['load z from d into m', null]
    - ['m', {'z': 1, 'g': 7}]
  - statements:
    - ['e = {: z = 1 | y = 2 | x = 3 :}', null]
    - ['m = {: g = 7 | z = 23:}', null]
    - ['load z, y from e into m', null]
    - ['m', {'z': 1, 'g': 7, 'y': 2}]
  - statements:
    - ['f = {: z = 1 | y = 2 | x = 3 :}', null]
    - ['load z from f', null]
    - ['z', 1]
    - ["~ has 'x'", false]
  - statements:
    - ['g = {: z = 1 | y = 2 | x = 3 :}', null]
    - ['load * from g', null]
    - ['z', 1]
    - ['y', 2]
    - ['x', 3]
  - statements:
    - ['h = {: z = 1 | y = 2 | x = 3 :}', null]
    - ['m = {: g = 7 | z = 23:}', null]
    - ['load m, h into n', null]
    - ['n', {'z': 23, 'y': 2, 'x': 3, 'g': 7}]
  - statements:
    - ['i = {: z = 1 | y = 2 | x = 3 :}', null]
    - ['m = {: g = 7 | z = 23:}', null]
    - ['load i, m into n', null]
    - ['n', {'z': 1, 'y': 2, 'x': 3, 'g': 7}]
